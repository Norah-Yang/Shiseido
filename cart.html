<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/cart.css">
		<title>资生堂购物车</title>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="css/iconfont.css">
	</head>
	<body>
		<!-- nav -->
		<div class="header"></div>
		<!-- contain -->
		<div class="cartEmpty">
			<h1>您的购物袋是空的.</h1>
			<p>您还没有添加任何商品，马上挑选喜欢的商品</p>
			<div class="all">
				<div class="continueLink emptyTent">
					<a href="">
						<span class="knowNow">即刻了解</span>
						<span class="konwMsg">资生堂十大畅销明星产品</span>
						<span class="iconfont icon-arrow-right"></span>
					</a>
				</div>
				<div class="continueClp emptyTent">
					<a href="">
						<span class="knowNow">即刻了解</span>
						<span class="konwMsg">简单四步了解你的肌肤。并为你推荐适合的产品</span>
						<span class="iconfont icon-arrow-right"></span>
					</a>
				</div>
			</div>
			
		</div>
		<div class="shoppingCar">
			<div class="cartTop">
				<h1>我的购物袋</h1>
				<div class="preLink">
					<a href='#' onClick='javascript:history.back(-1);'>继续购物></a>
				</div>
			</div>
			<h2 class="cartItem">
				<div class="quantity">
					共有<span>1</span>件商品
				</div>
			</h2>
			<form action="" method="post">
				<div class="leftColumn">
					<div class="goods">
						<div class="list">
							<div class="itemImg">
								<img src="img/pro1.jpg" alt="">
							</div>
							<div class="itemDetails">
								<div class="name">青春日和舒缓亮眼精华啫喱</div>
								<div class="size">20mL</div>
							</div>
							<div class="itemNum">
								<button type="button" class="reduce">-</button>
								<span>1</span>
								<button type="button" class="add">+</button>
							</div>
							<div class="itemPrice">￥<span>220</span></div>
							<div class="price">￥<span>220</span></div>
						</div>
						<div class="cartLink">
							<a href="">
								<span class="iconfont icon-wishlist"></span>
								加入收藏
							</a>
							<a href="">修改</a>
							<a class="del">删除</a>
						</div>
					</div>
					
					<div class="goods">
						<div class="list">
							<div class="itemImg">
								<img src="img/pro1.jpg" alt="">
							</div>
							<div class="itemDetails">
								<div class="name">青春日和舒缓亮眼精华啫喱</div>
								<div class="size">20mL</div>
							</div>
							<div class="itemNum">
								<button type="button" class="reduce">-</button>
								<span>1</span>
								<button type="button" class="add">+</button>
							</div>
							<div class="itemPrice">￥<span>110</span></div>
							<div class="price">￥<span>110</span></div>
						</div>
						<div class="cartLink">
							<a href="">
								<span class="iconfont icon-wishlist"></span>
								加入收藏
							</a>
							<a href="">修改</a>
							<a class="del">删除</a>
						</div>
					</div>
					
					<div class="goods">
						<div class="list">
							<div class="itemImg">
								<img src="img/pro1.jpg" alt="">
							</div>
							<div class="itemDetails">
								<div class="name">青春日和舒缓亮眼精华啫喱</div>
								<div class="size">20mL</div>
							</div>
							<div class="itemNum">
								<button type="button" class="reduce">-</button>
								<span>1</span>
								<button type="button" class="add">+</button>
							</div>
							<div class="itemPrice">￥<span>10</span></div>
							<div class="price">￥<span>10</span></div>
						</div>
						<div class="cartLink">
							<a href="">
								<span class="iconfont icon-wishlist"></span>
								加入收藏
							</a>
							<a href="">修改</a>
							<a class="del">删除</a>
						</div>
					</div>
				</div>
					
				<div class="rightColumn">
					<div class="imgStat">
						<img src="img/shoppingCar.png" alt="">
					</div>
					<div class="totalContain">
						<h3 class="title">
							订单概览
						</h3>
						<div class="totalSub">
							<dt class="float-left">商品价格</dt>
							<dd class="float-right">￥<span>220</span></dd>
						</div>
						<div class="shipping">
							<dt class="float-left">运费</dt>
							<dd class="float-right">￥<span>15</span></dd>
						</div>
						<div class="totalPrice">
							<dt class="float-left">总价</dt>
							<dd class="float-right">￥<span>235</span></dd>
						</div>
						<div class="cartAction">
							<button type="submit">立即结算</button>
						</div>
					</div>
					<div class="carFoot">
						<img src="img/carFoot.png" alt="">
					</div>
				</div>
			</form>
		</div>
		
<!-- footer -->
		<div class="footer">
			<div class="lay1">
				<div class="row">

					<div class="col-md-4">
							<div class="title">
								<h3>联系我们</h3>
							</div>
						<div class="contains">
							<a href="#" class="chat">
								<i class="iconfont icon-chat"></i>
								<span>在线咨询</span>
							</a>
							<a href="#" class="tel">
								<i class="iconfont icon-phone"></i>
								<span>400-821-6076</span>
							</a>
						</div>
						
					</div>

					<div class="col-md-4">
							<div class="title">
								<h3>关注我们</h3>
							</div>
						<div class="contains">
							<a href="#" class="wechat">
								<i class="iconfont icon-we-chat"></i>
							</a>
							<a href="#" class="weibo">
								<i class="iconfont icon-weibo"></i>
							</a>
							<a href="#" class="redbook">
								<i class="iconfont icon-xiaohongshu"></i>
							</a>
						</div>
					</div>
					<div class="col-md-4">
							<div class="title">
								<h3>寻找专柜</h3>
							</div>
						<div class="contains">
							<a href="#" class="home">
								<i class="iconfont icon-home"></i>
								<span>专柜查询</span>
							</a>
						</div>
						
					</div>
				</div>
			</div>
			<div class="lay2">
				<div class="row">
					<div class="col-md-4">
						<div class="contains">
							<h5>关于我们</h5>
							<ul>
								<li>
									<a href="#">品牌故事</a>
								</li>
								<li>
									<a href="#">官网购物理由</a>
								</li>
								<li>
									<a href="#">品牌资讯</a>
								</li>
							</ul>
						</div>
					</div>
					<div class="col-md-4">                
						<div class="contains">
							<h5>明星产品</h5>
							<ul>
								<li>
									<a href="#">查看所有</a>
								</li>
								<li>
									<a href="#">「傲娇精华」红妍肌活精华露</a>
								</li>
								<li>
									<a href="#">「蓝胖子」新艳阳夏臻效水动力防晒乳</a>
								</li>
								<li>
									<a href="#">「细管唇膏」沁色绚彩唇膏</a>
								</li>
							</ul>
						</div>
					</div>
					<div class="col-md-4">                
							<div class="contains">
								<h5>帮助中心</h5>
								<ul>
									<li>
										<a href="#">常见问题</a>
									</li>
									<li>
										<a href="#">退换货政策</a>
									</li>
									<li>
										<a href="#">订单查询</a>
									</li>
									<li>
										<a href="#">网站地图</a>
									</li>
								</ul>
							</div>
						</div>
				</div>
			</div>
			<div class="lay3">
				<a href="https://www.shiseido.com.cn/terms-of-use.html">使用条款</a>
				<a href="https://www.shiseido.com.cn/privacy-policy.html">隐私政策</a>
				<a href="https://www.shiseido.com.cn/license.html">上海工商</a>
				<a href="http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action;jsessionid=HYQG0rZBcOGhUvypcwqtPI3ahZUmkwGDDhKPyb2_P6hwwEn8UwU4!821559948">沪ICP备10203872号-1</a>
				<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011502007430">沪公网安备 31011502007430号</a>
				<span>Copyright © 2019 资生堂(中国)投资有限公司</span>
			</div>
		</div>
	</body>
</html>
<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<script src="js/cart.js"></script>
<script type="text/javascript">
	//购物车
	$(function(){
		
			
		getSum();
		totalPrice();
		//改变数量
		$(".add").click(function(){
			var totalNum = $(this).prev().html();
			totalNum++;
			$(this).prev().html(totalNum);
			let price = $(this).parent().next().next().children().html();
			console.log(price);
			let totalOnly = totalNum*price;
			$(this).parent().next().children().html(totalOnly);
			getSum();
			totalPrice();
		})
		$(".reduce").click(function(){
			var totalNum = $(this).next().html();
			totalNum--;
			if(totalNum == 0){
				$(this).parent().parent().parent().remove();
			}
			$(this).next().html(totalNum);
			let price = $(this).parent().next().next().children().html();
			let totalOnly = totalNum*price;
			$(this).parent().next().children().html(totalOnly);
			getSum();
			totalPrice();
		})
		
		
		//删除商品
			$(".del").click(function(){
				$(this).parent().parent().remove();
				getSum();
				totalPrice();
			})
		
		
		//总件数
		function getSum(){
			//获取数量的集合
			let oTotalNum = $(".itemNum span");
			let sum = 0;
			// console.log(oTotalNum);
			for(let i=0;i<oTotalNum.length;i++){
				sum += parseInt(oTotalNum.eq(i).html()) ;
			}
			$(".quantity span").html(sum);
			if(sum==0){
				$(".shoppingCar").hide();
				$(".cartEmpty").show();
			}
		}
		//单品总价
		function totalOnly(){
			let num = $(".itemNum span").html();
			let price = $(".price span").html();
			let totalOnly = num*price;
			// console.log(totalOnly);
			$(this).parent().next().children().html(totalOnly);
		}
		//合计
		function totalPrice(){
			let oTotalPrice = $(".itemPrice span");
			let total = 0;
			let ship = $(".shipping span").html();
			for(let i=0;i<oTotalPrice.length;i++){
				total += parseInt(oTotalPrice.eq(i).html());
			}
			let totalPrice = total+ parseInt(ship) ;
			$('.totalSub dd span').html(total);
			$('.totalPrice dd span').html(totalPrice);
		}
		
		
	})
	
	
	
	
	
	
	//加载头部
	$(function(){
		$(".header").load("head.html");
	})
</script>